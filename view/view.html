<!DOCTYPE html>
<html>
	<head>

		<meta charset="UTF-8">

		<link rel="shortcut icon" href="https://picture.nj-jay.com/favicon.ico">
		<link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/4.7.0/css/font-awesome.css">

		<title>mysql-gin-api</title>

</head>

		<style type="text/css">

			.container {
					width: 800px;
					margin: 0 auto;
					margin-top: 100px;
					padding: 25px 0;
					border: 1px dashed #272627;
				}
			
			.test {
				width: 100%;
				padding: 10px 0;
				margin: 20px 0;
				color: #4bade8;
				font-size: 18px;
				text-align: center;
				}
			
			#jsonTable {
				width: 1000px;
				margin: 0 auto;
				color:#064057 ; 
				background-color: rgba(182, 214, 216, 0.014);
				border:solid 3px;
				}
			
		
			th {

				width: 500px;
				margin: 0 auto;
				border:solid 3px;
				background-color: #518288;

			}		
			
			td {
				padding: 10px 0;
				line-height: 30px;
				text-align: center;
				border:solid 2px;
			}

			#bt{
				text-align: center;
			}
			#btAdd{
        			background: #029b8e;
   	　　}
    		
			#btSearch{
        			background: #22a3f5;
   	 		}

   	 		#btDelete{

        			background: #f5ba00;

   	 		}

    		#btClear{

        			background: #f55f26;
   	 		}

    			#btUpdate{

       			background: #039dcb;
    			}

			.btn{

        			text-decoration-line: none;
        			color: #e1e7e7;
        			background: red;
        			margin-left: 5px;
        			padding-left: 5px;
        			padding-right: 5px;
        			border-radius: 2px;

    				}

			#searchInput{

				text-align:center;
			}
	</style>
</head>

<script src="https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js" type="text/javascript" charset="utf-8">



</script>

<body background="https://pic1.zhimg.com/v2-47a311d313d56c479b9b028d7d67807c_r.jpg">
	
	<div id="bt">
				<i class="fa fa-github" style="font-size:36px" src="github.com/nj-jay/mysql-gin-api" ></i>
				<br/>
            	<a href="dataSearch.html" id="btSearch" class="btn">查找</a>
            	<a href="dataAdd.html" id="btAdd" class="btn">增加</a>
            	<a href="dataDelete.html" id="btDelete" class="btn">删除</a>
				<a href="dataUpdate.html" id="btUpdate" class="btn">修改</a>
	</div>
	<div id="searchInput">
			<br/>
			<button id="buttonDown" class="but" type="submit" >上一页</a>
			<button id="buttonAdd" class="but" type="submit">下一页</a>
	</div>
		<br/>
		<table border="1" cellspacing="0" bordercolor="#4bade8" cellpadding="0" id="jsonTable">
				<tr>
					<th >id</th>
					<th>书籍名称</th>
					<th>书籍类型</th>
					<th>作者</th>
					<th>价格</th>
					<th>上架时间</th>
				</tr>
		</table>
		<script type="text/javascript">

$(function() {

getDate()
function getDate() {
		var temp = '';
		
		$.ajax({
				type: "get",
				url: "http://localhost:8080/api/v2/books/1",
				dataType: "json",
				success: function(res) {
						var list = res
						for(var $i = 0; $i < list.length; $i++) {
								temp +=
										'<tr>' +
										'<td>' + list[$i].id + '</td>' +
										'<td>' + list[$i].name + '</td>' +
										'<td>' + list[$i].types+ '</td>' +
										'<td>' + list[$i].author+ '</td>' +
										'<td>' + list[$i].price+ '</td>' +
										'<td>' + list[$i].addTime+ '</td>' +
										'</tr>';
						}
						$("#jsonTable tr:not(:first)").html("");
                        $("#jsonTable").append(temp);
				}
                                        });
                                }
                        });
		</script>
		<script type="text/javascript">
			$(function() {
				getDate()
				function getDate() {
					var page = 1;
					$("#buttonAdd").on("click", function(){
						page +=1;
						$.ajax({
                                                type: "get",
                                                url: "http://nj-jay.com:8080/api/v2/books/" + page,
                                                dataType: "json",
                                                success: function(data) {
                                                        var list = data;
														var temp = '';
                                                        for(var $i = 0; $i < list.length; $i++) {
                                                                temp +=
                                                                        '<tr>' +
                                                                        '<td>' + list[$i].id + '</td>' +
																		'<td>' + list[$i].name + '</td>' +
																		'<td>' + list[$i].types+ '</td>' +
																		'<td>' + list[$i].author+ '</td>'+									
																		'<td>' + list[$i].price+ '</td>' +
																		'<td>' + list[$i].addTime+ '</td>' +
                                                                        '</tr>';
                                                        }
                                                        $("#jsonTable tr:not(:first)").html(""); /*  除了>第一行tr的内容，其余内容清空，防止获取重复的数据  */
                                                        $("#jsonTable").append(temp);
                                                }
                                        });
					})
					$("#buttonDown").on("click", function(){
						page = page -1;
						$.ajax({
                                                type: "get",
                                                url: "http://nj-jay.com:8080/api/v2/books/" + page,
                                                dataType: "json",
                                                success: function(data) {            
                                                        var list = data;
														var temp = '';
                                                        for(var $i = 0; $i < list.length; $i++) {
                                                                temp +=
                                                                        '<tr>' +
                                                                        '<td>' + list[$i].id + '</td>' +
																		'<td>' + list[$i].name + '</td>' +
																		'<td>' + list[$i].types+ '</td>' +
																		'<td>' + list[$i].author+ '</td>'+									
																		'<td>' + list[$i].price+ '</td>' +
																		'<td>' + list[$i].addTime+ '</td>' +
                                                                        '</tr>';
                                                        }
                                                        $("#jsonTable tr:not(:first)").html(""); 
                                                        $("#jsonTable").append(temp);
                                                }
                                        });
					})
				}
			});
		</script>
	</body>
</html>
